<html>

  <head>
    <script src='covid.json'></script>
    <!-- link to access Axios CDN-->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/3.1.4/vue.cjs.js'></script>
  </head>

  <body>
    <h1> Covid deaths by Country</h1>
    <button onclick="buildList()">Make list</button>
    <div id='output'></div>
  </body>

  <script>
    // access API data
    axios.get('https://www.trackcorona.live/api/countries').then(response=>{
      buildList();
    })

    //list from file
    function buildList(){
      var dHandle = document.getElementById('output');
      var myHTML = '<ul>';
      coviddata.data.sort(function(a, b){
        return b.dead - a.dead;
      });

      for (i=0; i<coviddata.data.length;i++){
        myHTML = myHTML + "<li>" + coviddata.data[i].location + " - " + coviddata.data[i].dead + "</li>";

      }
      myHTML = myHTML + "</ul>"
      dHandle.innerHTML = myHTML;
    }

  </script>

</html>
